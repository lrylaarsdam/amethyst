% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metacells.R
\name{makeMetacellWindows}
\alias{makeMetacellWindows}
\title{makeMetacellWindows}
\usage{
makeMetacellWindows(
  original_obj,
  metacell_obj,
  stepsize = 50000,
  type = "CG",
  metric = "score",
  index = paste0("chr_", tolower(type)),
  threads = 1,
  futureType = "multicore",
  nmin = 2,
  chrList = NULL,
  save = FALSE,
  matrix_name = NULL
)
}
\arguments{
\item{original_obj}{Original Amethyst single-cell object with @h5paths, @index, and @metadata.}

\item{metacell_obj}{Metacell Amethyst object from makeMetacells().}

\item{stepsize}{Window size in bp (default 50000).}

\item{type}{Methylation context ("CG" or "CH"; default "CG").}

\item{metric}{Summary metric: "percent", "score", or "ratio" (default "score").}

\item{index}{Name of chromosome index in original_obj@index (default "chr_cg").}

\item{threads}{Parallel workers (via future/furrr) for per-metacell computation.}

\item{futureType}{Future backend: "multicore" or "multisession".}

\item{nmin}{Minimum number of total observations in a window to retain it.}

\item{chrList}{Optional vector of chromosomes to restrict to.}

\item{save}{Deprecated/unused (kept for backward compatibility).}

\item{matrix_name}{Name for the resulting genome matrix in metacell_obj@genomeMatrices.}
}
\value{
The metacell_obj with a new matrix added to @genomeMatrices.
}
\description{
Build metacell-level genomic windows by aggregating raw H5 reads
across the originating cells of each metacell (R-based; best for smaller datasets).
}
